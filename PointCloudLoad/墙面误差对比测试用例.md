#用例 1：CloudCompare 距离直方图（Histogram）对比

- 目标
  - 以 CloudCompare 计算“预测墙面采样点”到“实际点云（或墙体子云）”的点到点距离，并用直方图与统计量量化误差。

- 前置与输入
  - 数据：
    - 原始点云（或已分割的“墙体子云”）
    - 预测墙面采样点 PLY（由系统导出，包含墙面上均匀采样点）
  - 环境：同一坐标系下的配准数据；必要时先做配准/对齐

- 操作步骤
  1) 导入原始点云与预测采样 PLY
  2) 选中顺序：先“原始点云或墙体子云”，再“预测采样 PLY”
  3) 菜单 Tools → Distances → Cloud-to-Cloud distance
     - Octree level：自动/默认
     - Max dist：1 m（用于裁剪极端离群）
     - Compute
  4) 选择原始点云 → 查看直方图
     - Edit → Scalar fields → Show histogram
     - 记录统计：均值、Median、中位数、Std/RMS、95th percentile、最大值
  5) 可视审查：颜色映射低值应沿墙体呈细带，异常高值应集中在缺失或遮挡区域

- 问题与处理
  房间多物体干扰：先分割墙体子云
  直方图重尾：过滤离群点后再统计


#用例 2：基于激光雷达位姿的“墙面位置一致性”验证

- 目标
  - 选取若干“已知与墙面关系明确”的激光雷达位姿检查点，比较“位姿点到预测墙面”的距离(d_standoff)是否与理论期望匹配

- 前置与输入
  - 位姿数据：时间同步的雷达位姿轨迹（世界系，含平移与朝向）；提供选定检查点集合
  - 预测墙面： PLY 采样
  - 定距工况：传感器与墙面保持侧向定距（如 3 m），且姿态与墙面近似平行
  - 距离计算与匹配
		对每个检查点 P_k，选择对应预测墙段
		设该墙段二维方向单位向量 u，墙线上一点 a（可取段起点 Start），二维短距 d_k：
		d_k = | cross(p_k − a, u) | （单位：米）
		判定残差：
		定距：r_k = | d_k − d_standoff |

- 操作步骤
  1) 明确检查点集合与其定距工况，记录期望间距
  2) 将位姿点导入到同一坐标系（可导出为 PLY 并在 CloudCompare 中与预测墙面同显）
  3) 为每个检查点选择对应墙段
  4) 计算每个点的 d_k 与残差 r_k
  5) 统计残差分布：均值/中位数/RMSE/95 分位/最大；标注超标点位、环境说明（如拥堵/遮挡


- 注意事项
  坐标统一：位姿轨迹与墙面必须同一坐标系；
  检查点应覆盖不同墙段、转角与遮挡处.